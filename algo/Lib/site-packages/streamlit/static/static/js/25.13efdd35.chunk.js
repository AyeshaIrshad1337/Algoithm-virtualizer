/*! For license information please see 25.13efdd35.chunk.js.LICENSE.txt */
(this["webpackJsonpstreamlit-browser"]=this["webpackJsonpstreamlit-browser"]||[]).push([[25],{1512:function(e,t,n){},2249:function(e,t,n){!function(e,t,n){"use strict";var r="default"in t?t.default:t;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e,t,n,r){return new(n=n||Promise)((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,l)}c((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(l){a=[6,l],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}n=n&&n.hasOwnProperty("default")?n.default:n;var g=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function m(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=g.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"==typeof t?t:"string"==typeof r&&0<r.length?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var v=[".DS_Store","Thumbs.db"];function y(e){return s(this,void 0,void 0,(function(){return f(this,(function(t){return[2,function(e){return!!e.dataTransfer}(e)&&e.dataTransfer?function(e,t){return s(this,void 0,void 0,(function(){var n;return f(this,(function(r){switch(r.label){case 0:return e.items?(n=h(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(E))]):[3,2];case 1:return[2,b(function e(t){return t.reduce((function(t,n){return p(t,Array.isArray(n)?e(n):[n])}),[])}(r.sent()))];case 2:return[2,b(h(e.files).map((function(e){return m(e)})))]}}))}))}(e.dataTransfer,e.type):function(e){return(function(e){return null!==e}(e.target)&&e.target.files?h(e.target.files):[]).map((function(e){return m(e)}))}(e)]}))}))}function b(e){return e.filter((function(e){return-1===v.indexOf(e.name)}))}function h(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function E(e){if("function"!=typeof e.webkitGetAsEntry)return D(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?x(t):D(e)}function D(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=m(t);return Promise.resolve(n)}function O(e){return s(this,void 0,void 0,(function(){return f(this,(function(t){return[2,e.isDirectory?x(e):function(e){return s(this,void 0,void 0,(function(){return f(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=m(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}(e)]}))}))}function x(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function i(){var a=this;t.readEntries((function(t){return s(a,void 0,void 0,(function(){var a,o,l;return f(this,(function(c){switch(c.label){case 0:if(t.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=c.sent(),e(a),[3,4];case 3:return o=c.sent(),n(o),[3,4];case 4:return[3,6];case 5:l=Promise.all(t.map(O)),r.push(l),i(),c.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}var j,k,w=(function(e){function t(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return n[e].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n,r;e.exports=(r={},t.m=n=[function(e,t,n){t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=e.type||"",a=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?a===t.replace(/\/.*$/,""):i===t}))}return!0}}],t.c=r,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0))}(j={exports:{}}),j.exports),F=(k=w)&&k.__esModule&&Object.prototype.hasOwnProperty.call(k,"default")?k.default:k,S=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},A=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," bytes")}},R=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," bytes")}},P={code:"too-many-files",message:"Too many files"};function z(e,t){var n="application/x-moz-file"===e.type||F(e,t);return[n,n?null:S(t)]}function C(e,t,n){if(M(e.size))if(M(t)&&M(n)){if(e.size>n)return[!1,A(n)];if(e.size<t)return[!1,R(t)]}else{if(M(t)&&e.size<t)return[!1,R(t)];if(M(n)&&e.size>n)return[!1,A(n)]}return[!0,null]}function M(e){return null!=e}function L(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function B(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function I(e){e.preventDefault()}function N(e){var t=0<arguments.length&&void 0!==e?e:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(t)||function(e){return-1!==e.indexOf("Edge/")}(t)}function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!L(e)&&t&&t.apply(void 0,[e].concat(r)),L(e)}))}}var U=t.forwardRef((function(e,n){var i=e.children,a=_(l(e,["children"])),c=a.open,u=l(a,["open"]);return t.useImperativeHandle(n,(function(){return{open:c}}),[c]),r.createElement(t.Fragment,null,i(o({},u,{open:c})))}));U.displayName="Dropzone";var G={isFocused:!(U.propTypes={children:n.func,accept:n.oneOfType([n.string,n.arrayOf(n.string)]),multiple:n.bool,preventDropOnDocument:n.bool,noClick:n.bool,noKeyboard:n.bool,noDrag:n.bool,noDragEventsBubbling:n.bool,minSize:n.number,maxSize:n.number,maxFiles:n.number,disabled:n.bool,getFilesFromEvent:n.func,onFileDialogCancel:n.func,onDragEnter:n.func,onDragLeave:n.func,onDragOver:n.func,onDrop:n.func,onDropAccepted:n.func,onDropRejected:n.func}),isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function _(){function e(){te&&setTimeout((function(){Q.current&&(Q.current.files.length||(Z({type:"closeDialog"}),"function"==typeof S&&S()))}),300)}var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=n.accept,a=n.disabled,s=void 0!==a&&a,f=n.getFilesFromEvent,d=void 0===f?y:f,p=n.maxSize,g=void 0===p?1/0:p,m=n.minSize,v=void 0===m?0:m,b=n.multiple,h=void 0===b||b,E=n.maxFiles,D=void 0===E?0:E,O=n.onDragEnter,x=n.onDragLeave,j=n.onDragOver,k=n.onDrop,w=n.onDropAccepted,F=n.onDropRejected,S=n.onFileDialogCancel,A=n.preventDropOnDocument,R=void 0===A||A,M=n.noClick,U=void 0!==M&&M,_=n.noKeyboard,Y=void 0!==_&&_,H=n.noDrag,q=void 0!==H&&H,W=n.noDragEventsBubbling,J=void 0!==W&&W,$=t.useRef(null),Q=t.useRef(null),V=c(t.useReducer(K,G),2),X=V[0],Z=V[1],ee=X.isFocused,te=X.isFileDialogActive,ne=X.draggedFiles,re=t.useCallback((function(){Q.current&&(Z({type:"openDialog"}),Q.current.value=null,Q.current.click())}),[Z]);function ie(e){$.current&&$.current.contains(e.target)||(e.preventDefault(),ue.current=[])}t.useEffect((function(){return window.addEventListener("focus",e,!1),function(){window.removeEventListener("focus",e,!1)}}),[Q,te,S]);var ae=t.useCallback((function(e){$.current&&$.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),re()))}),[$,Q]),oe=t.useCallback((function(){Z({type:"focus"})}),[]),le=t.useCallback((function(){Z({type:"blur"})}),[]),ce=t.useCallback((function(){U||(N()?setTimeout(re,0):re())}),[Q,U]),ue=t.useRef([]);function se(e){return s?null:e}function fe(e){return Y?null:se(e)}function de(e){return q?null:se(e)}t.useEffect((function(){return R&&(document.addEventListener("dragover",I,!1),document.addEventListener("drop",ie,!1)),function(){R&&(document.removeEventListener("dragover",I),document.removeEventListener("drop",ie))}}),[$,R]);var pe=t.useCallback((function(e){e.preventDefault(),e.persist(),ye(e),ue.current=[].concat(u(ue.current),[e.target]),B(e)&&Promise.resolve(d(e)).then((function(t){L(e)&&!J||(Z({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),O&&O(e))}))}),[d,O,J]),ge=t.useCallback((function(e){if(e.preventDefault(),e.persist(),ye(e),e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return B(e)&&j&&j(e),!1}),[j,J]),me=t.useCallback((function(e){e.preventDefault(),e.persist(),ye(e);var t=ue.current.filter((function(e){return $.current&&$.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),0<(ue.current=t).length||(Z({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),B(e)&&x&&x(e))}),[$,x,J]),ve=t.useCallback((function(e){e.preventDefault(),e.persist(),ye(e),ue.current=[],B(e)&&Promise.resolve(d(e)).then((function(t){if(!L(e)||J){var n=[],i=[];t.forEach((function(e){var t=c(z(e,r),2),a=t[0],o=t[1],l=c(C(e,v,g),2),u=l[0],s=l[1];if(a&&u)n.push(e);else{var f=[o,s].filter((function(e){return e}));i.push({file:e,errors:f})}})),(!h&&1<n.length||h&&1<=D&&n.length>D)&&(n.forEach((function(e){i.push({file:e,errors:[P]})})),n.splice(0)),Z({acceptedFiles:n,fileRejections:i,type:"setFiles"}),k&&k(n,i,e),0<i.length&&F&&F(i,e),0<n.length&&w&&w(n,e)}})),Z({type:"reset"})}),[h,r,v,g,d,k,w,F,J]),ye=function(e){J&&e.stopPropagation()},be=t.useMemo((function(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onKeyDown,a=e.onFocus,c=e.onBlur,u=e.onClick,f=e.onDragEnter,d=e.onDragOver,p=e.onDragLeave,g=e.onDrop,m=l(e,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return o(i({onKeyDown:fe(T(r,ae)),onFocus:fe(T(a,oe)),onBlur:fe(T(c,le)),onClick:se(T(u,ce)),onDragEnter:de(T(f,pe)),onDragOver:de(T(d,ge)),onDragLeave:de(T(p,me)),onDrop:de(T(g,ve))},n,$),s||Y?{}:{tabIndex:0},{},m)}}),[$,ae,oe,le,ce,pe,ge,me,ve,Y,q,s]),he=t.useCallback((function(e){e.stopPropagation()}),[]),Ee=t.useMemo((function(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,a=e.onChange,c=e.onClick,u=l(e,["refKey","onChange","onClick"]);return o({},i({accept:r,multiple:h,type:"file",style:{display:"none"},onChange:se(T(a,ve)),onClick:se(T(c,he)),autoComplete:"off",tabIndex:-1},n,Q),{},u)}}),[Q,r,h,ve,s]),De=ne.length,Oe=0<De&&function(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize;return!(!e.multiple&&1<t.length)&&t.every((function(e){var t=c(z(e,n),1)[0],a=c(C(e,r,i),1)[0];return t&&a}))}({files:ne,accept:r,minSize:v,maxSize:g,multiple:h});return o({},X,{isDragAccept:Oe,isDragReject:0<De&&!Oe,isFocused:ee&&!s,getRootProps:be,getInputProps:Ee,rootRef:$,inputRef:Q,open:se(re)})}function K(e,t){switch(t.type){case"focus":return o({},e,{isFocused:!0});case"blur":return o({},e,{isFocused:!1});case"openDialog":return o({},e,{isFileDialogActive:!0});case"closeDialog":return o({},e,{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive;return o({},e,{draggedFiles:t.draggedFiles,isDragActive:n});case"setFiles":return o({},e,{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return o({},e,{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]});default:return e}}e.default=U,e.useDropzone=_,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0),n(14))},2268:function(e,t,n){"use strict";n.r(t);var r,i,a=n(128),o=n(3),l=n(16),c=n(17),u=n(0),s=n.n(u),f=n(143),d=n.n(f);!function(e){e.ERROR="ERROR",e.DELETING="DELETING",e.READY="READY",e.UPLOADING="UPLOADING",e.UPLOADED="UPLOADED"}(r||(r={})),function(e){e.GigaByte="gb",e.KiloByte="kb",e.MegaByte="mb",e.Byte="b"}(i||(i={}));var p,g=[i.GigaByte,i.MegaByte,i.KiloByte,i.Byte],m=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(n||(n=i.Byte),r<0&&(r=0),t<0)throw new Error("Size must be greater than or equal to 0");var a=g.indexOf(n),o=t/1024;return a&&t>512?e(o,g[a-1],r):"".concat(t.toFixed(r)).concat(n.toUpperCase())},v=function(e,t,n){if(e<0)throw Error("Size must be 0 or greater");var r=g.findIndex((function(e){return e===t})),i=g.findIndex((function(e){return e===n}));if(-1===r||-1===i)throw Error("Unexpected byte unit provided");if(r===i)return e;var a=Math.abs(r-i),o=Math.pow(1024,a);return r>i?e/o:e*o},y=n(51),b=n(2249),h=n.n(b),E=n(69),D=n(18),O=n(23),x=n(64);!function(e){e.SECONDARY="secondary",e.DANGER="danger"}(p||(p={}));var j=Object(E.styled)("small",(function(e){var t=e.kind;return{color:t?O.c[t]:O.c.grayDark,fontSize:O.e.fontSizeSm,height:O.e.fontSizeSm,lineHeight:O.e.fontSizeSm,display:"flex",alignItems:"center"}})),k=Object(E.styled)("div",{marginRight:"auto",alignItems:"center",display:"flex"}),w=Object(E.styled)(x.a,{color:O.c.secondary,marginRight:O.k.lg}),F=Object(E.styled)("span",{marginBottom:O.k.xxs}),S=Object(E.styled)("div",{display:"flex",flexDirection:"column"}),A=function(e){var t=e.multiple,n=e.acceptedExtensions,r=e.maxSizeBytes;return s.a.createElement(k,null,s.a.createElement(w,{icon:"cloud_upload",type:"outlined",size:O.a.LARGE,className:"fileUploaderIcon"}),s.a.createElement(S,null,s.a.createElement(F,null,"Drag and drop file",t?"s":""," here"),s.a.createElement(j,null,"Limit ".concat(m(r,i.Byte,0)," per file"),n.length?" \u2022 ".concat(n.join(", ").replace(/\./g,"").toUpperCase()):null)))},R=Object(E.styled)("section",{":focus":{outline:"none",boxShadow:"0 0 0 1px ".concat(O.c.primary)},padding:O.k.lg,backgroundColor:O.c.grayLightest,borderRadius:O.m.borderRadius,alignItems:"center",display:"flex"}),P=function(e){var t=e.onDrop,n=e.multiple,r=e.acceptedExtensions,i=e.maxSizeBytes,a=e.disabled;return s.a.createElement(h.a,{onDrop:t,multiple:n,accept:r.length?r:void 0,maxSize:i,disabled:a},(function(e){var t=e.getRootProps,o=e.getInputProps;return s.a.createElement(R,Object.assign({},t(),{className:"fileUploadDropzone ".concat(a?"disabled":"")}),s.a.createElement("input",o()),s.a.createElement(A,{multiple:n,acceptedExtensions:r,maxSizeBytes:i}),s.a.createElement(D.c,{kind:D.a.PRIMARY,disabled:a,size:D.b.SMALL},"Browse files"))}))},z=n(33),C=n(134),M=n(39),L=n.n(M),B=n(82),I=n.n(B),N=Object(E.styled)("div",{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:O.k.xxs,marginBottom:O.k.xxs}),T=Object(E.styled)("div",{display:"flex",alignItems:"center",justifyContent:"center",color:O.c.secondary}),U=function(e){var t=e.className,n=e.currentPage,r=e.totalPages,i=e.onNext,a=e.onPrevious;return s.a.createElement(N,{className:t},s.a.createElement(j,null,"Showing page ".concat(n," of ").concat(r)),s.a.createElement(T,null,s.a.createElement(D.c,{onClick:a,kind:D.a.MINIMAL},s.a.createElement(x.a,{icon:"chevron_left"})),s.a.createElement(D.c,{onClick:i,kind:D.a.MINIMAL},s.a.createElement(x.a,{icon:"chevron_right"}))))},G=function(e,t){return Math.ceil(e.length/t)},_=function(e){return I()((function(t){var n=t.pageSize,r=t.items,i=t.resetOnAdd,a=t.className,o=Object(C.a)(t,["pageSize","items","resetOnAdd","className"]),l=Object(u.useState)(0),c=Object(z.a)(l,2),f=c[0],d=c[1],p=Object(u.useState)(G(r,n)),g=Object(z.a)(p,2),m=g[0],v=g[1],y=function(e){var t=Object(u.useRef)();return Object(u.useEffect)((function(){t.current=e}),[e]),t.current}(r);Object(u.useEffect)((function(){y&&y.length!==r.length&&v(G(r,n)),y&&y.length<r.length?i&&d(0):f+1>=m&&d(m-1)}),[r,f,n,y,i,m]);var b=r.slice(f*n,f*n+n);return s.a.createElement(s.a.Fragment,null,s.a.createElement(e,Object.assign({items:b},o)),r.length>n?s.a.createElement(U,{className:L()(a,"streamlit-paginator"),pageSize:n,totalPages:m,currentPage:f+1,onNext:function(){d(Math.min(f+1,m-1))},onPrevious:function(){d(Math.max(0,f-1))}}):null)}),e)},K=n(226),Y=(n(1512),Object(E.styled)("div",{display:"flex",alignItems:"baseline",flex:1,paddingLeft:O.k.lg,overflow:"hidden"})),H=Object(E.withStyleDeep)(Object(E.styled)("div",{marginRight:O.k.sm,marginBottom:O.k.xxs}),O.l.ellipsis),q=Object(E.styled)("div",{display:"flex",alignItems:"center",marginBottom:O.k.xxs}),W=Object(E.styled)("span",{marginRight:O.k.xxs}),J=Object(E.styled)("div",{display:"flex",padding:O.k.xxs,color:O.c.secondary}),$=function(e){var t=e.file,n=e.progress;return n?s.a.createElement(K.a,{value:n,size:O.a.SMALL,overrides:{Bar:{style:{marginLeft:0,marginTop:"4px"}}}}):t.status===r.ERROR?s.a.createElement(j,{className:"fileError",kind:p.DANGER},s.a.createElement(W,null,t.errorMessage||"error"),s.a.createElement(x.a,{icon:"error"})):t.status===r.UPLOADED?s.a.createElement(j,{kind:p.SECONDARY},m(t.size,i.Byte)):t.status===r.DELETING?s.a.createElement(j,{kind:p.SECONDARY},"Removing file"):null},Q=function(e){var t=e.file,n=e.progress,r=e.onDelete;return s.a.createElement(q,{className:"uploadedFile"},s.a.createElement(J,null,s.a.createElement(x.a,{type:"outlined",icon:"insert_drive_file",size:O.a.MEDIUM})),s.a.createElement(Y,{className:"uploadedFileData"},s.a.createElement(H,{className:"uploadedFileName",title:t.name},t.name),s.a.createElement($,{file:t,progress:n})),s.a.createElement(D.c,{onClick:function(){return r(t.id||"")},kind:D.a.MINIMAL},s.a.createElement(x.a,{icon:"clear"})))},V=Object(E.styled)("div",{left:0,right:0,lineHeight:O.e.lineHeightTight,paddingTop:O.k.md,paddingLeft:O.k.lg,paddingRight:O.k.lg}),X=_((function(e){var t=e.items,n=e.onDelete;return s.a.createElement("ul",null,t.map((function(e){return s.a.createElement("li",{key:e.id},s.a.createElement(Q,{file:e,progress:e.progress,onDelete:n}))})))})),Z=function(e){return s.a.createElement(V,{className:"uploadedFiles"},s.a.createElement(X,e))},ee=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var l;Object(o.a)(this,n),(l=t.call(this,e)).componentDidUpdate=function(e){e.disabled!==l.props.disabled&&l.props.disabled&&l.reset();var t=l.props.element.maxUploadSizeMb;e.element.maxUploadSizeMb!==t&&l.setState({maxSizeBytes:v(t,i.MegaByte,i.Byte)})},l.reset=function(){l.setState({status:r.READY,errorMessage:void 0,files:[]})},l.dropHandler=function(e,t){var n=l.props.element.multipleFiles;if(!n&&l.state.files.length&&l.removeFile(l.state.files[0].id||""),t.length>1&&!n){var r=t.findIndex((function(e){return 1===e.errors.length&&"too-many-files"===e.errors[0].code}));if(r>=0){var i=t[r];l.uploadFile(i.file,e.length),l.rejectFiles([].concat(Object(a.a)(t.slice(0,r)),Object(a.a)(t.slice(r+1))))}else l.rejectFiles(t)}else l.rejectFiles(t);e.map(l.uploadFile)},l.handleFile=function(e,t){e.id="".concat(t).concat((new Date).getTime()),e.cancelToken=d.a.CancelToken.source(),l.setState((function(t){return{files:[e].concat(Object(a.a)(t.files))}}))},l.uploadFile=function(e,t){e.progress=1,e.status=r.UPLOADING,l.handleFile(e,t),l.props.uploadClient.uploadFiles(l.props.element.id,[e],(function(t){return l.onUploadProgress(t,e)}),e.cancelToken?e.cancelToken.token:d.a.CancelToken.source().token,!l.props.element.multipleFiles).then((function(){l.setState((function(t){return{files:t.files.map((function(t){return e.id===t.id?(delete e.progress,delete e.cancelToken,e.status=r.UPLOADED,e):t}))}}))})).catch((function(t){d.a.isCancel(t)?l.setState((function(t){return{files:t.files.map((function(t){return e.id===t.id?e:t}))}})):l.setState({status:"ERROR",errorMessage:t?t.toString():"Unknown error"})}))},l.rejectFiles=function(e){e.forEach((function(e,t){Object.assign(e.file,{status:r.ERROR,errorMessage:l.getErrorMessage(e.errors[0].code,e.file)}),l.handleFile(e.file,t)}))},l.getErrorMessage=function(e,t){switch(e){case"file-too-large":return"File must be ".concat(m(l.state.maxSizeBytes,i.Byte)," or smaller.");case"file-invalid-type":return"".concat(t.type," files are not allowed.");case"file-too-small":return"File size is too small.";case"too-many-files":return"Only one file is allowed.";default:return"Unexpected error. Please try again."}},l.delete=function(e){l.setState((function(t){var n=Object(a.a)(t.files).find((function(t){return t.id===e}));if(e&&n)return n.cancelToken&&n.cancelToken.cancel(),n.status=r.DELETING,n.errorMessage||n.cancelToken?(l.removeFile(e),null):(l.props.uploadClient.delete(l.props.element.id,e).then((function(){return l.removeFile(e)})),{files:t.files});return{status:r.ERROR,errorMessage:"File not found. Please try again."}}))},l.removeFile=function(e){l.setState((function(t){var n=t.files.filter((function(t){return t.id!==e}));return{status:n.length?r.UPLOADED:r.READY,errorMessage:void 0,files:n}}))},l.onUploadProgress=function(e,t){t.progress=Math.round(100*e.loaded/e.total),l.setState((function(e){return{files:e.files.map((function(e){return e.id===t.id?t:e}))}}))},l.render=function(){var e=l.state,t=e.maxSizeBytes,n=e.errorMessage,r=e.files,i=l.props,o=i.element,c=i.disabled,u=o.type;return s.a.createElement("div",{className:"Widget stFileUploader"},s.a.createElement("label",null,o.label),n?s.a.createElement(y.b,{kind:y.a.ERROR},n):null,s.a.createElement(P,{onDrop:l.dropHandler,multiple:o.multipleFiles,acceptedExtensions:u,maxSizeBytes:t,disabled:c}),s.a.createElement(Z,{items:Object(a.a)(r),pageSize:3,onDelete:l.delete,className:"ml-5 pl-1",resetOnAdd:!0}))};var c=e.element.maxUploadSizeMb;return l.state={status:"READY",errorMessage:void 0,files:[],maxSizeBytes:v(c,i.MegaByte,i.Byte)},l}return n}(s.a.PureComponent);n.d(t,"default",(function(){return ee}))}}]);
//# sourceMappingURL=25.13efdd35.chunk.js.map